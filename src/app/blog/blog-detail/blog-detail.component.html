<!-- <pre>
	{{ blogPosts$ | async | json }}
</pre> -->
<section class="lg:max-w-[80vw] justify-center mx-auto py-[3rem]">
  <!-- <div class="grid md:grid-cols-5 sm:grid-cols-1 gap-4">
    <div class="md:col-span-4 sm:col-span-1 p-4"> -->
  <div class="">
    <div class="">
      <ng-container *ngIf="blogPost$ | async as blogPost">
        <img
          class="max-h-[50vh] w-[100%] mb-[2rem] object-fill"
          [src]="blogPost.fields.featuredImage.fields.file.url"
          [alt]="blogPost.fields.featuredImage.fields.title"
        />
        <div class="grid md:grid-cols-5 sm:grid-cols-1 gap-4">
          <div class="md:col-span-4 sm:col-span-1 py-4 lg:border-r-2">
            <h2 class="text-4xl text-start font-semibold mb-[2rem]">
              {{ blogPost.fields.title }}
            </h2>
            <!-- Meta Section -->
            <div class="pt-1">
              <span class="flex flex-row justify-start gap-4 mb-2 px-1">
                <p class="text-sm text-neutral-600">
                  {{ blogPost.sys.createdAt | date : "mediumDate" }}
                </p>
                <p class="text-sm text-slate-800">
                  {{ blogPost.fields.author }}
                </p>
              </span>
              <hr />
            </div>
            <!-- Content -->
            <div class="pt-4 lg:pr-4">
              <p>
                {{ blogPost.fields.content | json }}
              </p>
              <!-- <markdown ngPreserveWhiteSpace> -->
              <!-- <p class="text-lg text-neutral-800">
                  {{ blogPost.fields.content | json }}
                </p> -->
              <!-- </markdown> -->
            </div>
          </div>
          <!-- Sidebar -->
          <div class="pt-[1rem] sidebar">
            <div class="md:col-span-1 sm:col-span-1 lg:p-4 md:block">
              <h2 class="text-lg font-semibold text-start pb-2">
                Related Posts
              </h2>
              <hr />

              <div
                class="flex flex-col gap-2 py-2"
                *ngIf="allPosts$ | async as blogPosts"
              >
                <div
                  class="flex"
                  *ngFor="let blogPost of blogPosts.items; let i = index"
                >
                  <div
                    class="flex flex-row gap-4 p-2 rounded shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 ease-in-out"
                  >
                    <img
                      [routerLink]="['/blogs', blogPost.sys.id]"
                      routerLinkActive="active"
                      class="min-w-[30%] max-w-[30%] self-start aspect-square object-cover cursor-pointer"
                      [src]="blogPost.fields.featuredImage.fields.file.url"
                      [alt]="blogPost.fields.featuredImage.fields.title"
                    />
                    <div class="flex flex-col justify-between">
                      <h3
                        class="text-lg sm:text-sm font-semibold text-slate-800 cursor-pointer"
                        [routerLink]="['/blogs', blogPost.sys.id]"
                        routerLinkActive="active"
                      >
                        {{ blogPost.fields.title }}
                      </h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
      <!-- <div
        class="grid lg:grid-cols-3 md:grid-cols-2 gap-4"
        *ngIf="blogPosts$ | async as blogPosts"
      >
        <div
          class="flex"
          *ngFor="let blogPost of blogPosts.items; let i = index"

        >
          <div
            class="flex flex-col gap-4 border-2 rounded shadow-sm overflow-hidden"
          >
            <img
              class="max-h-[30vh] w-[100%] aspect-video hover:scale-105 transition-all duration-300 ease-in-out"
              [src]="blogPost.fields.featuredImage.fields.file.url"
              [alt]="blogPost.fields.featuredImage.fields.title"
            />
            <div class="flex-grow pb-4 px-4 flex flex-col justify-between">
              <div>
                <h3
                  class="text-xl font-semibold text-slate-800 pb-4 cursor-pointer"
                  [routerLink]="blogPost.sys.id"
                  routerLinkActive="active"
                >
                  {{ blogPost.fields.title }}
                </h3>
                <p class="text-sm text-neutral-800">
                  {{ blogPost.fields.summary }}
                </p>
              </div>
              <div class="pt-1">
                <hr />
                <span class="flex flex-row justify-between mt-2 px-1">
                  <p class="text-sm text-neutral-600">
                    {{ blogPost.sys.createdAt | date : "mediumDate" }}
                  </p>
                  <p class="text-sm text-slate-800">
                    {{ blogPost.fields.author }}
                  </p>
                </span>

              </div>
            </div>
          </div>
        </div>
      </div> -->
    </div>
    <!-- <div class="py-auto">
      <div
        class="md:col-span-1 sm:col-span-1 p-4 md:block lg:rounded lg:shadow-md"
      >
        Sidebar
      </div>
    </div> -->
  </div>
</section>
